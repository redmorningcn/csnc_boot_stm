###############################################################################
#
# IAR ANSI C/C++ Compiler V7.50.1.10123/W32 for ARM       10/May/2018  08:55:42
# Copyright 1999-2015 IAR Systems AB.
#
#    Cpu mode     =  thumb
#    Endian       =  little
#    Source file  =  
#        F:\iar\001
#        backup\Micrium_uC-Eval-STM32F107_uCOS-III\Micrium\Software\uCOS-III\Source\os_int.c
#    Command line =  
#        "F:\iar\001
#        backup\Micrium_uC-Eval-STM32F107_uCOS-III\Micrium\Software\uCOS-III\Source\os_int.c"
#        -D USE_STDPERIPH_DRIVER -lCN "F:\iar\001
#        backup\Micrium_uC-Eval-STM32F107_uCOS-III\Micrium\Software\EvalBoards\Micrium\uC-Eval-STM32F107\uCOS-III\IAR\Flash\List"
#        -o "F:\iar\001
#        backup\Micrium_uC-Eval-STM32F107_uCOS-III\Micrium\Software\EvalBoards\Micrium\uC-Eval-STM32F107\uCOS-III\IAR\Flash\Obj"
#        --no_cse --no_unroll --no_inline --no_code_motion --no_tbaa
#        --no_clustering --no_scheduling --debug --endian=little
#        --cpu=Cortex-M3 -e --fpu=None --dlib_config "C:\Program Files
#        (x86)\IAR Systems\Embedded Workbench
#        7.3\arm\INC\c\DLib_Config_Normal.h" -I "F:\iar\001
#        backup\Micrium_uC-Eval-STM32F107_uCOS-III\Micrium\Software\EvalBoards\Micrium\uC-Eval-STM32F107\uCOS-III\IAR\..\..\uCOS-III\"
#        -I "F:\iar\001
#        backup\Micrium_uC-Eval-STM32F107_uCOS-III\Micrium\Software\EvalBoards\Micrium\uC-Eval-STM32F107\uCOS-III\IAR\..\..\uCOS-III\IAR\"
#        -I "F:\iar\001
#        backup\Micrium_uC-Eval-STM32F107_uCOS-III\Micrium\Software\EvalBoards\Micrium\uC-Eval-STM32F107\uCOS-III\IAR\..\..\BSP\"
#        -I "F:\iar\001
#        backup\Micrium_uC-Eval-STM32F107_uCOS-III\Micrium\Software\EvalBoards\Micrium\uC-Eval-STM32F107\uCOS-III\IAR\..\..\BSP\OS\uCOS-III\"
#        -I "F:\iar\001
#        backup\Micrium_uC-Eval-STM32F107_uCOS-III\Micrium\Software\EvalBoards\Micrium\uC-Eval-STM32F107\uCOS-III\IAR\..\..\BSP\ST\STM32\inc\"
#        -I "F:\iar\001
#        backup\Micrium_uC-Eval-STM32F107_uCOS-III\Micrium\Software\EvalBoards\Micrium\uC-Eval-STM32F107\uCOS-III\IAR\..\..\BSP\IAR\"
#        -I "F:\iar\001
#        backup\Micrium_uC-Eval-STM32F107_uCOS-III\Micrium\Software\EvalBoards\Micrium\uC-Eval-STM32F107\uCOS-III\IAR\..\..\..\..\..\uC-LIB\"
#        -I "F:\iar\001
#        backup\Micrium_uC-Eval-STM32F107_uCOS-III\Micrium\Software\EvalBoards\Micrium\uC-Eval-STM32F107\uCOS-III\IAR\..\..\..\..\..\uC-CPU\"
#        -I "F:\iar\001
#        backup\Micrium_uC-Eval-STM32F107_uCOS-III\Micrium\Software\EvalBoards\Micrium\uC-Eval-STM32F107\uCOS-III\IAR\..\..\..\..\..\uC-CPU\ARM-Cortex-M3\IAR\"
#        -I "F:\iar\001
#        backup\Micrium_uC-Eval-STM32F107_uCOS-III\Micrium\Software\EvalBoards\Micrium\uC-Eval-STM32F107\uCOS-III\IAR\..\..\..\..\..\uCOS-III\Ports\ARM-Cortex-M3\Generic\IAR\"
#        -I "F:\iar\001
#        backup\Micrium_uC-Eval-STM32F107_uCOS-III\Micrium\Software\EvalBoards\Micrium\uC-Eval-STM32F107\uCOS-III\IAR\..\..\..\..\..\uCOS-III\Source\"
#        -On --use_c++_inline
#    List file    =  
#        F:\iar\001
#        backup\Micrium_uC-Eval-STM32F107_uCOS-III\Micrium\Software\EvalBoards\Micrium\uC-Eval-STM32F107\uCOS-III\IAR\Flash\List\os_int.lst
#    Object file  =  
#        F:\iar\001
#        backup\Micrium_uC-Eval-STM32F107_uCOS-III\Micrium\Software\EvalBoards\Micrium\uC-Eval-STM32F107\uCOS-III\IAR\Flash\Obj\os_int.o
#
###############################################################################

F:\iar\001 backup\Micrium_uC-Eval-STM32F107_uCOS-III\Micrium\Software\uCOS-III\Source\os_int.c
      1          /*
      2          ************************************************************************************************************************
      3          *                                                      uC/OS-III
      4          *                                                 The Real-Time Kernel
      5          *
      6          *                                  (c) Copyright 2009-2012; Micrium, Inc.; Weston, FL
      7          *                           All rights reserved.  Protected by international copyright laws.
      8          *
      9          *                                                 ISR QUEUE MANAGEMENT
     10          *
     11          * File    : OS_INT.C
     12          * By      : JJL
     13          * Version : V3.03.01
     14          *
     15          * LICENSING TERMS:
     16          * ---------------
     17          *           uC/OS-III is provided in source form for FREE short-term evaluation, for educational use or 
     18          *           for peaceful research.  If you plan or intend to use uC/OS-III in a commercial application/
     19          *           product then, you need to contact Micrium to properly license uC/OS-III for its use in your 
     20          *           application/product.   We provide ALL the source code for your convenience and to help you 
     21          *           experience uC/OS-III.  The fact that the source is provided does NOT mean that you can use 
     22          *           it commercially without paying a licensing fee.
     23          *
     24          *           Knowledge of the source code may NOT be used to develop a similar product.
     25          *
     26          *           Please help us continue to provide the embedded community with the finest software available.
     27          *           Your honesty is greatly appreciated.
     28          *
     29          *           You can contact us at www.micrium.com, or by phone at +1 (954) 217-2036.
     30          ************************************************************************************************************************
     31          */
     32          
     33          #define   MICRIUM_SOURCE
     34          #include  <os.h>
     35          
     36          #ifdef VSC_INCLUDE_SOURCE_FILE_NAMES
     37          const  CPU_CHAR  *os_int__c = "$Id: $";
     38          #endif
     39          
     40          
     41          #if OS_CFG_ISR_POST_DEFERRED_EN > 0u
     42          /*$PAGE*/
     43          /*
     44          ************************************************************************************************************************
     45          *                                                   POST TO ISR QUEUE
     46          *
     47          * Description: This function places contents of posts into an intermediate queue to help defer processing of interrupts
     48          *              at the task level.
     49          *
     50          * Arguments  : type       is the type of kernel object the post is destined to:
     51          *
     52          *                             OS_OBJ_TYPE_SEM
     53          *                             OS_OBJ_TYPE_Q
     54          *                             OS_OBJ_TYPE_FLAG
     55          *                             OS_OBJ_TYPE_TASK_MSG
     56          *                             OS_OBJ_TYPE_TASK_SIGNAL
     57          *
     58          *              p_obj      is a pointer to the kernel object to post to.  This can be a pointer to a semaphore,
     59          *              -----      a message queue or a task control clock.
     60          *
     61          *              p_void     is a pointer to a message that is being posted.  This is used when posting to a message
     62          *                         queue or directly to a task.
     63          *
     64          *              msg_size   is the size of the message being posted
     65          *
     66          *              flags      if the post is done to an event flag group then this corresponds to the flags being
     67          *                         posted
     68          *
     69          *              ts         is a timestamp as to when the post was done
     70          *
     71          *              opt        this corresponds to post options and applies to:
     72          *
     73          *                             OSFlagPost()
     74          *                             OSSemPost()
     75          *                             OSQPost()
     76          *                             OSTaskQPost()
     77          *
     78          *              p_err      is a pointer to a variable that will contain an error code returned by this function.
     79          *
     80          *                             OS_ERR_NONE         if the post to the ISR queue was successful
     81          *                             OS_ERR_INT_Q_FULL   if the ISR queue is full and cannot accepts any further posts.  This
     82          *                                                 generally indicates that you are receiving interrupts faster than you
     83          *                                                 can process them or, that you didn't make the ISR queue large enough.
     84          *
     85          * Returns    : none
     86          *
     87          * Note(s)    : none
     88          ************************************************************************************************************************
     89          */
     90          

   \                                 In section .text, align 2, keep-with-next
     91          void  OS_IntQPost (OS_OBJ_TYPE   type,
     92                             void         *p_obj,
     93                             void         *p_void,
     94                             OS_MSG_SIZE   msg_size,
     95                             OS_FLAGS      flags,
     96                             OS_OPT        opt,
     97                             CPU_TS        ts,
     98                             OS_ERR       *p_err)
     99          {
   \                     OS_IntQPost: (+1)
   \   00000000   0xE92D 0x4FF1      PUSH     {R0,R4-R11,LR}
   \   00000004   0x000D             MOVS     R5,R1
   \   00000006   0x0016             MOVS     R6,R2
   \   00000008   0x001F             MOVS     R7,R3
   \   0000000A   0xF8DD 0x8028      LDR      R8,[SP, #+40]
   \   0000000E   0x9C0B             LDR      R4,[SP, #+44]
   \   00000010   0xF8DD 0x9030      LDR      R9,[SP, #+48]
   \   00000014   0xF8DD 0xA034      LDR      R10,[SP, #+52]
    100              CPU_SR_ALLOC();
   \   00000018   0xF05F 0x0B00      MOVS     R11,#+0
    101          
    102          
    103          
    104          #ifdef OS_SAFETY_CRITICAL
    105              if (p_err == (OS_ERR *)0) {
    106                  OS_SAFETY_CRITICAL_EXCEPTION();
    107                  return;
    108              }
    109          #endif
    110          
    111              CPU_CRITICAL_ENTER();
   \   0000001C   0x.... 0x....      BL       CPU_SR_Save
   \   00000020   0x4683             MOV      R11,R0
   \   00000022   0x.... 0x....      BL       CPU_IntDisMeasStart
    112              if (OSIntQNbrEntries < OSCfg_IntQSize) {                /* Make sure we haven't already filled the ISR queue      */
   \   00000026   0x.... 0x....      LDR.W    R0,??DataTable3
   \   0000002A   0x8800             LDRH     R0,[R0, #+0]
   \   0000002C   0x.... 0x....      LDR.W    R1,??DataTable3_1
   \   00000030   0x8809             LDRH     R1,[R1, #+0]
   \   00000032   0x4288             CMP      R0,R1
   \   00000034   0xD25A             BCS.N    ??OS_IntQPost_0
    113                  OSIntQNbrEntries++;
   \   00000036   0x.... 0x....      LDR.W    R0,??DataTable3
   \   0000003A   0x8800             LDRH     R0,[R0, #+0]
   \   0000003C   0x1C40             ADDS     R0,R0,#+1
   \   0000003E   0x.... 0x....      LDR.W    R1,??DataTable3
   \   00000042   0x8008             STRH     R0,[R1, #+0]
    114          
    115                  if (OSIntQNbrEntriesMax < OSIntQNbrEntries) {
   \   00000044   0x.... 0x....      LDR.W    R0,??DataTable3_2
   \   00000048   0x8800             LDRH     R0,[R0, #+0]
   \   0000004A   0x.... 0x....      LDR.W    R1,??DataTable3
   \   0000004E   0x8809             LDRH     R1,[R1, #+0]
   \   00000050   0x4288             CMP      R0,R1
   \   00000052   0xD205             BCS.N    ??OS_IntQPost_1
    116                      OSIntQNbrEntriesMax = OSIntQNbrEntries;
   \   00000054   0x.... 0x....      LDR.W    R0,??DataTable3
   \   00000058   0x8800             LDRH     R0,[R0, #+0]
   \   0000005A   0x.... 0x....      LDR.W    R1,??DataTable3_2
   \   0000005E   0x8008             STRH     R0,[R1, #+0]
    117                  }
    118          
    119                  OSIntQInPtr->Type       = type;                     /* Save object type being posted                          */
   \                     ??OS_IntQPost_1: (+1)
   \   00000060   0x9800             LDR      R0,[SP, #+0]
   \   00000062   0x.... 0x....      LDR.W    R1,??DataTable3_3
   \   00000066   0x6809             LDR      R1,[R1, #+0]
   \   00000068   0x6008             STR      R0,[R1, #+0]
    120                  OSIntQInPtr->ObjPtr     = p_obj;                    /* Save pointer to object being posted                    */
   \   0000006A   0x.... 0x....      LDR.W    R0,??DataTable3_3
   \   0000006E   0x6800             LDR      R0,[R0, #+0]
   \   00000070   0x6085             STR      R5,[R0, #+8]
    121                  OSIntQInPtr->MsgPtr     = p_void;                   /* Save pointer to message if posting to a message queue  */
   \   00000072   0x.... 0x....      LDR.W    R0,??DataTable3_3
   \   00000076   0x6800             LDR      R0,[R0, #+0]
   \   00000078   0x60C6             STR      R6,[R0, #+12]
    122                  OSIntQInPtr->MsgSize    = msg_size;                 /* Save the message size   if posting to a message queue  */
   \   0000007A   0x.... 0x....      LDR.W    R0,??DataTable3_3
   \   0000007E   0x6800             LDR      R0,[R0, #+0]
   \   00000080   0x8207             STRH     R7,[R0, #+16]
    123                  OSIntQInPtr->Flags      = flags;                    /* Save the flags if posting to an event flag group       */
   \   00000082   0x.... 0x....      LDR.W    R0,??DataTable3_3
   \   00000086   0x6800             LDR      R0,[R0, #+0]
   \   00000088   0xF8C0 0x8014      STR      R8,[R0, #+20]
    124                  OSIntQInPtr->Opt        = opt;                      /* Save post options                                      */
   \   0000008C   0x.... 0x....      LDR.W    R0,??DataTable3_3
   \   00000090   0x6800             LDR      R0,[R0, #+0]
   \   00000092   0x8304             STRH     R4,[R0, #+24]
    125                  OSIntQInPtr->TS         = ts;                       /* Save time stamp                                        */
   \   00000094   0x.... 0x....      LDR.W    R0,??DataTable3_3
   \   00000098   0x6800             LDR      R0,[R0, #+0]
   \   0000009A   0xF8C0 0x901C      STR      R9,[R0, #+28]
    126          
    127                  OSIntQInPtr             =  OSIntQInPtr->NextPtr;    /* Point to the next interrupt handler queue entry        */
   \   0000009E   0x.... 0x....      LDR.W    R0,??DataTable3_3
   \   000000A2   0x6800             LDR      R0,[R0, #+0]
   \   000000A4   0x6840             LDR      R0,[R0, #+4]
   \   000000A6   0x.... 0x....      LDR.W    R1,??DataTable3_3
   \   000000AA   0x6008             STR      R0,[R1, #+0]
    128          
    129                  OSRdyList[0].NbrEntries = (OS_OBJ_QTY)1;            /* Make the interrupt handler task ready to run           */
   \   000000AC   0x2001             MOVS     R0,#+1
   \   000000AE   0x.... 0x....      LDR.W    R1,??DataTable3_4
   \   000000B2   0x8108             STRH     R0,[R1, #+8]
    130                  OSRdyList[0].HeadPtr    = &OSIntQTaskTCB;
   \   000000B4   0x.... 0x....      LDR.W    R0,??DataTable3_5
   \   000000B8   0x.... 0x....      LDR.W    R1,??DataTable3_4
   \   000000BC   0x6008             STR      R0,[R1, #+0]
    131                  OSRdyList[0].TailPtr    = &OSIntQTaskTCB;
   \   000000BE   0x.... 0x....      LDR.W    R0,??DataTable3_5
   \   000000C2   0x.... 0x....      LDR.W    R1,??DataTable3_4
   \   000000C6   0x6048             STR      R0,[R1, #+4]
    132                  OS_PrioInsert(0u);                                  /* Add task priority 0 in the priority table              */
   \   000000C8   0x2000             MOVS     R0,#+0
   \   000000CA   0x.... 0x....      BL       OS_PrioInsert
    133                  if (OSPrioCur != 0) {                               /* Chk if OSIntQTask is not running                       */
   \   000000CE   0x.... 0x....      LDR.W    R0,??DataTable3_6
   \   000000D2   0x7800             LDRB     R0,[R0, #+0]
   \   000000D4   0x2800             CMP      R0,#+0
   \   000000D6   0xD005             BEQ.N    ??OS_IntQPost_2
    134                      OSPrioSaved         = OSPrioCur;                /* Save current priority                                  */
   \   000000D8   0x.... 0x....      LDR.W    R0,??DataTable3_6
   \   000000DC   0x7800             LDRB     R0,[R0, #+0]
   \   000000DE   0x.... 0x....      LDR.W    R1,??DataTable3_7
   \   000000E2   0x7008             STRB     R0,[R1, #+0]
    135                  }
    136          
    137                 *p_err                   = OS_ERR_NONE;
   \                     ??OS_IntQPost_2: (+1)
   \   000000E4   0x2000             MOVS     R0,#+0
   \   000000E6   0xF8AA 0x0000      STRH     R0,[R10, #+0]
   \   000000EA   0xE009             B.N      ??OS_IntQPost_3
    138              } else {
    139                  OSIntQOvfCtr++;                                     /* Count the number of ISR queue overflows                */
   \                     ??OS_IntQPost_0: (+1)
   \   000000EC   0x.... 0x....      LDR.W    R0,??DataTable3_8
   \   000000F0   0x8800             LDRH     R0,[R0, #+0]
   \   000000F2   0x1C40             ADDS     R0,R0,#+1
   \   000000F4   0x....             LDR.N    R1,??DataTable3_8
   \   000000F6   0x8008             STRH     R0,[R1, #+0]
    140                 *p_err                   = OS_ERR_INT_Q_FULL;
   \   000000F8   0xF244 0x6053      MOVW     R0,#+18003
   \   000000FC   0xF8AA 0x0000      STRH     R0,[R10, #+0]
    141              }
    142              CPU_CRITICAL_EXIT();
   \                     ??OS_IntQPost_3: (+1)
   \   00000100   0x.... 0x....      BL       CPU_IntDisMeasStop
   \   00000104   0x4658             MOV      R0,R11
   \   00000106   0x.... 0x....      BL       CPU_SR_Restore
    143          }
   \   0000010A   0xE8BD 0x8FF1      POP      {R0,R4-R11,PC}   ;; return
    144          
    145          /*$PAGE*/
    146          /*
    147          ************************************************************************************************************************
    148          *                                               INTERRUPT QUEUE MANAGEMENT TASK
    149          *
    150          * Description: This task is created by OS_IntQTaskInit().
    151          *
    152          * Arguments  : p_arg     is a pointer to an optional argument that is passed during task creation.  For this function
    153          *                        the argument is not used and will be a NULL pointer.
    154          *
    155          * Returns    : none
    156          ************************************************************************************************************************
    157          */
    158          

   \                                 In section .text, align 2, keep-with-next
    159          void  OS_IntQRePost (void)
    160          {
   \                     OS_IntQRePost: (+1)
   \   00000000   0xB510             PUSH     {R4,LR}
   \   00000002   0xB084             SUB      SP,SP,#+16
    161              CPU_TS  ts;
    162              OS_ERR  err;
    163          
    164          
    165              switch (OSIntQOutPtr->Type) {                           /* Re-post to task                                        */
   \   00000004   0x....             LDR.N    R0,??DataTable3_9
   \   00000006   0x6800             LDR      R0,[R0, #+0]
   \   00000008   0x6800             LDR      R0,[R0, #+0]
   \   0000000A   0x....             LDR.N    R1,??DataTable3_10  ;; 0x414d4553
   \   0000000C   0x4288             CMP      R0,R1
   \   0000000E   0xD03B             BEQ.N    ??OS_IntQRePost_0
   \   00000010   0x....             LDR.N    R1,??DataTable3_11  ;; 0x47414c46
   \   00000012   0x4288             CMP      R0,R1
   \   00000014   0xD012             BEQ.N    ??OS_IntQRePost_1
   \   00000016   0x....             LDR.N    R1,??DataTable3_12  ;; 0x47495354
   \   00000018   0x4288             CMP      R0,R1
   \   0000001A   0xD05E             BEQ.N    ??OS_IntQRePost_2
   \   0000001C   0x....             LDR.N    R1,??DataTable3_13  ;; 0x47534d54
   \   0000001E   0x4288             CMP      R0,R1
   \   00000020   0xD03F             BEQ.N    ??OS_IntQRePost_3
   \   00000022   0x....             LDR.N    R1,??DataTable3_14  ;; 0x4b434954
   \   00000024   0x4288             CMP      R0,R1
   \   00000026   0xD06C             BEQ.N    ??OS_IntQRePost_4
   \   00000028   0x....             LDR.N    R1,??DataTable3_15  ;; 0x53455254
   \   0000002A   0x4288             CMP      R0,R1
   \   0000002C   0xD04E             BEQ.N    ??OS_IntQRePost_5
   \   0000002E   0x....             LDR.N    R1,??DataTable3_16  ;; 0x53555354
   \   00000030   0x4288             CMP      R0,R1
   \   00000032   0xD05F             BEQ.N    ??OS_IntQRePost_6
   \   00000034   0x....             LDR.N    R1,??DataTable3_17  ;; 0x55455551
   \   00000036   0x4288             CMP      R0,R1
   \   00000038   0xD011             BEQ.N    ??OS_IntQRePost_7
   \   0000003A   0xE089             B.N      ??OS_IntQRePost_8
    166                  case OS_OBJ_TYPE_FLAG:
    167          #if OS_CFG_FLAG_EN > 0u
    168                       (void)OS_FlagPost((OS_FLAG_GRP *) OSIntQOutPtr->ObjPtr,
    169                                         (OS_FLAGS     ) OSIntQOutPtr->Flags,
    170                                         (OS_OPT       ) OSIntQOutPtr->Opt,
    171                                         (CPU_TS       ) OSIntQOutPtr->TS,
    172                                         (OS_ERR      *)&err);
   \                     ??OS_IntQRePost_1: (+1)
   \   0000003C   0xA802             ADD      R0,SP,#+8
   \   0000003E   0x9000             STR      R0,[SP, #+0]
   \   00000040   0x....             LDR.N    R0,??DataTable3_9
   \   00000042   0x6800             LDR      R0,[R0, #+0]
   \   00000044   0x69C3             LDR      R3,[R0, #+28]
   \   00000046   0x....             LDR.N    R0,??DataTable3_9
   \   00000048   0x6800             LDR      R0,[R0, #+0]
   \   0000004A   0x8B02             LDRH     R2,[R0, #+24]
   \   0000004C   0x....             LDR.N    R0,??DataTable3_9
   \   0000004E   0x6800             LDR      R0,[R0, #+0]
   \   00000050   0x6941             LDR      R1,[R0, #+20]
   \   00000052   0x....             LDR.N    R0,??DataTable3_9
   \   00000054   0x6800             LDR      R0,[R0, #+0]
   \   00000056   0x6880             LDR      R0,[R0, #+8]
   \   00000058   0x.... 0x....      BL       OS_FlagPost
    173          #endif
    174                       break;
   \   0000005C   0xE078             B.N      ??OS_IntQRePost_9
    175          
    176                  case OS_OBJ_TYPE_Q:
    177          #if OS_CFG_Q_EN > 0u
    178                       OS_QPost((OS_Q      *) OSIntQOutPtr->ObjPtr,
    179                                (void      *) OSIntQOutPtr->MsgPtr,
    180                                (OS_MSG_SIZE) OSIntQOutPtr->MsgSize,
    181                                (OS_OPT     ) OSIntQOutPtr->Opt,
    182                                (CPU_TS     ) OSIntQOutPtr->TS,
    183                                (OS_ERR    *)&err);
   \                     ??OS_IntQRePost_7: (+1)
   \   0000005E   0xA802             ADD      R0,SP,#+8
   \   00000060   0x9001             STR      R0,[SP, #+4]
   \   00000062   0x....             LDR.N    R0,??DataTable3_9
   \   00000064   0x6800             LDR      R0,[R0, #+0]
   \   00000066   0x69C0             LDR      R0,[R0, #+28]
   \   00000068   0x9000             STR      R0,[SP, #+0]
   \   0000006A   0x....             LDR.N    R0,??DataTable3_9
   \   0000006C   0x6800             LDR      R0,[R0, #+0]
   \   0000006E   0x8B03             LDRH     R3,[R0, #+24]
   \   00000070   0x....             LDR.N    R0,??DataTable3_9
   \   00000072   0x6800             LDR      R0,[R0, #+0]
   \   00000074   0x8A02             LDRH     R2,[R0, #+16]
   \   00000076   0x....             LDR.N    R0,??DataTable3_9
   \   00000078   0x6800             LDR      R0,[R0, #+0]
   \   0000007A   0x68C1             LDR      R1,[R0, #+12]
   \   0000007C   0x....             LDR.N    R0,??DataTable3_9
   \   0000007E   0x6800             LDR      R0,[R0, #+0]
   \   00000080   0x6880             LDR      R0,[R0, #+8]
   \   00000082   0x.... 0x....      BL       OS_QPost
    184          #endif
    185                       break;
   \   00000086   0xE063             B.N      ??OS_IntQRePost_9
    186          
    187                  case OS_OBJ_TYPE_SEM:
    188          #if OS_CFG_SEM_EN > 0u
    189                       (void)OS_SemPost((OS_SEM *) OSIntQOutPtr->ObjPtr,
    190                                        (OS_OPT  ) OSIntQOutPtr->Opt,
    191                                        (CPU_TS  ) OSIntQOutPtr->TS,
    192                                        (OS_ERR *)&err);
   \                     ??OS_IntQRePost_0: (+1)
   \   00000088   0xAB02             ADD      R3,SP,#+8
   \   0000008A   0x....             LDR.N    R0,??DataTable3_9
   \   0000008C   0x6800             LDR      R0,[R0, #+0]
   \   0000008E   0x69C2             LDR      R2,[R0, #+28]
   \   00000090   0x....             LDR.N    R0,??DataTable3_9
   \   00000092   0x6800             LDR      R0,[R0, #+0]
   \   00000094   0x8B01             LDRH     R1,[R0, #+24]
   \   00000096   0x....             LDR.N    R0,??DataTable3_9
   \   00000098   0x6800             LDR      R0,[R0, #+0]
   \   0000009A   0x6880             LDR      R0,[R0, #+8]
   \   0000009C   0x.... 0x....      BL       OS_SemPost
    193          #endif
    194                       break;
   \   000000A0   0xE056             B.N      ??OS_IntQRePost_9
    195          
    196                  case OS_OBJ_TYPE_TASK_MSG:
    197          #if OS_CFG_TASK_Q_EN > 0u
    198                       OS_TaskQPost((OS_TCB    *) OSIntQOutPtr->ObjPtr,
    199                                    (void      *) OSIntQOutPtr->MsgPtr,
    200                                    (OS_MSG_SIZE) OSIntQOutPtr->MsgSize,
    201                                    (OS_OPT     ) OSIntQOutPtr->Opt,
    202                                    (CPU_TS     ) OSIntQOutPtr->TS,
    203                                    (OS_ERR    *)&err);
   \                     ??OS_IntQRePost_3: (+1)
   \   000000A2   0xA802             ADD      R0,SP,#+8
   \   000000A4   0x9001             STR      R0,[SP, #+4]
   \   000000A6   0x....             LDR.N    R0,??DataTable3_9
   \   000000A8   0x6800             LDR      R0,[R0, #+0]
   \   000000AA   0x69C0             LDR      R0,[R0, #+28]
   \   000000AC   0x9000             STR      R0,[SP, #+0]
   \   000000AE   0x....             LDR.N    R0,??DataTable3_9
   \   000000B0   0x6800             LDR      R0,[R0, #+0]
   \   000000B2   0x8B03             LDRH     R3,[R0, #+24]
   \   000000B4   0x....             LDR.N    R0,??DataTable3_9
   \   000000B6   0x6800             LDR      R0,[R0, #+0]
   \   000000B8   0x8A02             LDRH     R2,[R0, #+16]
   \   000000BA   0x....             LDR.N    R0,??DataTable3_9
   \   000000BC   0x6800             LDR      R0,[R0, #+0]
   \   000000BE   0x68C1             LDR      R1,[R0, #+12]
   \   000000C0   0x....             LDR.N    R0,??DataTable3_9
   \   000000C2   0x6800             LDR      R0,[R0, #+0]
   \   000000C4   0x6880             LDR      R0,[R0, #+8]
   \   000000C6   0x.... 0x....      BL       OS_TaskQPost
    204          #endif
    205                       break;
   \   000000CA   0xE041             B.N      ??OS_IntQRePost_9
    206          
    207                  case OS_OBJ_TYPE_TASK_RESUME:
    208          #if OS_CFG_TASK_SUSPEND_EN > 0u
    209                       (void)OS_TaskResume((OS_TCB *) OSIntQOutPtr->ObjPtr,
    210                                           (OS_ERR *)&err);
   \                     ??OS_IntQRePost_5: (+1)
   \   000000CC   0xA902             ADD      R1,SP,#+8
   \   000000CE   0x....             LDR.N    R0,??DataTable3_9
   \   000000D0   0x6800             LDR      R0,[R0, #+0]
   \   000000D2   0x6880             LDR      R0,[R0, #+8]
   \   000000D4   0x.... 0x....      BL       OS_TaskResume
    211          #endif
    212                       break;
   \   000000D8   0xE03A             B.N      ??OS_IntQRePost_9
    213          
    214                  case OS_OBJ_TYPE_TASK_SIGNAL:
    215                       (void)OS_TaskSemPost((OS_TCB *) OSIntQOutPtr->ObjPtr,
    216                                            (OS_OPT  ) OSIntQOutPtr->Opt,
    217                                            (CPU_TS  ) OSIntQOutPtr->TS,
    218                                            (OS_ERR *)&err);
   \                     ??OS_IntQRePost_2: (+1)
   \   000000DA   0xAB02             ADD      R3,SP,#+8
   \   000000DC   0x....             LDR.N    R0,??DataTable3_9
   \   000000DE   0x6800             LDR      R0,[R0, #+0]
   \   000000E0   0x69C2             LDR      R2,[R0, #+28]
   \   000000E2   0x....             LDR.N    R0,??DataTable3_9
   \   000000E4   0x6800             LDR      R0,[R0, #+0]
   \   000000E6   0x8B01             LDRH     R1,[R0, #+24]
   \   000000E8   0x....             LDR.N    R0,??DataTable3_9
   \   000000EA   0x6800             LDR      R0,[R0, #+0]
   \   000000EC   0x6880             LDR      R0,[R0, #+8]
   \   000000EE   0x.... 0x....      BL       OS_TaskSemPost
    219                       break;
   \   000000F2   0xE02D             B.N      ??OS_IntQRePost_9
    220          
    221                  case OS_OBJ_TYPE_TASK_SUSPEND:
    222          #if OS_CFG_TASK_SUSPEND_EN > 0u
    223                       (void)OS_TaskSuspend((OS_TCB *) OSIntQOutPtr->ObjPtr,
    224                                            (OS_ERR *)&err);
   \                     ??OS_IntQRePost_6: (+1)
   \   000000F4   0xA902             ADD      R1,SP,#+8
   \   000000F6   0x....             LDR.N    R0,??DataTable3_9
   \   000000F8   0x6800             LDR      R0,[R0, #+0]
   \   000000FA   0x6880             LDR      R0,[R0, #+8]
   \   000000FC   0x.... 0x....      BL       OS_TaskSuspend
    225          #endif
    226                       break;
   \   00000100   0xE026             B.N      ??OS_IntQRePost_9
    227          
    228                  case OS_OBJ_TYPE_TICK:
    229          #if OS_CFG_SCHED_ROUND_ROBIN_EN > 0u
    230                       OS_SchedRoundRobin(&OSRdyList[OSPrioSaved]);
   \                     ??OS_IntQRePost_4: (+1)
   \   00000102   0x....             LDR.N    R0,??DataTable3_4
   \   00000104   0x....             LDR.N    R1,??DataTable3_7
   \   00000106   0x7809             LDRB     R1,[R1, #+0]
   \   00000108   0x220C             MOVS     R2,#+12
   \   0000010A   0xFB02 0x0001      MLA      R0,R2,R1,R0
   \   0000010E   0x.... 0x....      BL       OS_SchedRoundRobin
    231          #endif
    232          
    233                       (void)OS_TaskSemPost((OS_TCB *)&OSTickTaskTCB,                /* Signal tick task                        */
    234                                            (OS_OPT  ) OS_OPT_POST_NONE,
    235                                            (CPU_TS  ) OSIntQOutPtr->TS,
    236                                            (OS_ERR *)&err);
   \   00000112   0xAB02             ADD      R3,SP,#+8
   \   00000114   0x....             LDR.N    R0,??DataTable3_9
   \   00000116   0x6800             LDR      R0,[R0, #+0]
   \   00000118   0x69C2             LDR      R2,[R0, #+28]
   \   0000011A   0x2100             MOVS     R1,#+0
   \   0000011C   0x....             LDR.N    R0,??DataTable3_18
   \   0000011E   0x.... 0x....      BL       OS_TaskSemPost
    237          #if OS_CFG_TMR_EN > 0u
    238                       OSTmrUpdateCtr--;
   \   00000122   0x....             LDR.N    R0,??DataTable3_19
   \   00000124   0x6800             LDR      R0,[R0, #+0]
   \   00000126   0x1E40             SUBS     R0,R0,#+1
   \   00000128   0x....             LDR.N    R1,??DataTable3_19
   \   0000012A   0x6008             STR      R0,[R1, #+0]
    239                       if (OSTmrUpdateCtr == (OS_CTR)0u) {
   \   0000012C   0x....             LDR.N    R0,??DataTable3_19
   \   0000012E   0x6800             LDR      R0,[R0, #+0]
   \   00000130   0x2800             CMP      R0,#+0
   \   00000132   0xD10C             BNE.N    ??OS_IntQRePost_10
    240                           OSTmrUpdateCtr = OSTmrUpdateCnt;
   \   00000134   0x....             LDR.N    R0,??DataTable3_20
   \   00000136   0x6800             LDR      R0,[R0, #+0]
   \   00000138   0x....             LDR.N    R1,??DataTable3_19
   \   0000013A   0x6008             STR      R0,[R1, #+0]
    241                           ts             = OS_TS_GET();                             /* Get timestamp                           */
   \   0000013C   0x.... 0x....      BL       CPU_TS_TmrRd
   \   00000140   0x0004             MOVS     R4,R0
    242                           (void)OS_TaskSemPost((OS_TCB *)&OSTmrTaskTCB,             /* Signal timer task                       */
    243                                                (OS_OPT  ) OS_OPT_POST_NONE,
    244                                                (CPU_TS  ) ts,
    245                                                (OS_ERR *)&err);
   \   00000142   0xAB02             ADD      R3,SP,#+8
   \   00000144   0x0022             MOVS     R2,R4
   \   00000146   0x2100             MOVS     R1,#+0
   \   00000148   0x....             LDR.N    R0,??DataTable3_21
   \   0000014A   0x.... 0x....      BL       OS_TaskSemPost
    246                       }
    247          #endif
    248                       break;
   \                     ??OS_IntQRePost_10: (+1)
   \   0000014E   0xE7FF             B.N      ??OS_IntQRePost_9
    249          
    250                  default:
    251                       break;
    252              }
    253          }
   \                     ??OS_IntQRePost_8: (+1)
   \                     ??OS_IntQRePost_9: (+1)
   \   00000150   0xBD1F             POP      {R0-R4,PC}       ;; return
    254          
    255          /*$PAGE*/
    256          /*
    257          ************************************************************************************************************************
    258          *                                               INTERRUPT QUEUE MANAGEMENT TASK
    259          *
    260          * Description: This task is created by OS_IntQTaskInit().
    261          *
    262          * Arguments  : p_arg     is a pointer to an optional argument that is passed during task creation.  For this function
    263          *                        the argument is not used and will be a NULL pointer.
    264          *
    265          * Returns    : none
    266          ************************************************************************************************************************
    267          */
    268          

   \                                 In section .text, align 2, keep-with-next
    269          void  OS_IntQTask (void  *p_arg)
    270          {
   \                     OS_IntQTask: (+1)
   \   00000000   0xE92D 0x41F0      PUSH     {R4-R8,LR}
   \   00000004   0x4680             MOV      R8,R0
    271              CPU_BOOLEAN  done;
    272              CPU_TS       ts_start;
    273              CPU_TS       ts_end;
    274              CPU_SR_ALLOC();
   \   00000006   0x2700             MOVS     R7,#+0
    275          
    276          
    277          
    278              p_arg = p_arg;                                          /* Not using 'p_arg', prevent compiler warning            */
    279              while (DEF_ON) {
    280                  done = DEF_FALSE;
   \                     ??OS_IntQTask_0: (+1)
   \   00000008   0x2000             MOVS     R0,#+0
   \   0000000A   0x0004             MOVS     R4,R0
    281                  while (done == DEF_FALSE) {
   \                     ??OS_IntQTask_1: (+1)
   \   0000000C   0xB2E4             UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   0000000E   0x2C00             CMP      R4,#+0
   \   00000010   0xD1FA             BNE.N    ??OS_IntQTask_0
    282                      CPU_CRITICAL_ENTER();
   \   00000012   0x.... 0x....      BL       CPU_SR_Save
   \   00000016   0x0007             MOVS     R7,R0
   \   00000018   0x.... 0x....      BL       CPU_IntDisMeasStart
    283                      if (OSIntQNbrEntries == (OS_OBJ_QTY)0u) {
   \   0000001C   0x....             LDR.N    R0,??DataTable3
   \   0000001E   0x8800             LDRH     R0,[R0, #+0]
   \   00000020   0x2800             CMP      R0,#+0
   \   00000022   0xD115             BNE.N    ??OS_IntQTask_2
    284                          OSRdyList[0].NbrEntries = (OS_OBJ_QTY)0u;   /* Remove from ready list                                 */
   \   00000024   0x2000             MOVS     R0,#+0
   \   00000026   0x....             LDR.N    R1,??DataTable3_4
   \   00000028   0x8108             STRH     R0,[R1, #+8]
    285                          OSRdyList[0].HeadPtr    = (OS_TCB   *)0;
   \   0000002A   0x2000             MOVS     R0,#+0
   \   0000002C   0x....             LDR.N    R1,??DataTable3_4
   \   0000002E   0x6008             STR      R0,[R1, #+0]
    286                          OSRdyList[0].TailPtr    = (OS_TCB   *)0;
   \   00000030   0x2000             MOVS     R0,#+0
   \   00000032   0x....             LDR.N    R1,??DataTable3_4
   \   00000034   0x6048             STR      R0,[R1, #+4]
    287                          OS_PrioRemove(0u);                          /* Remove from the priority table                         */
   \   00000036   0x2000             MOVS     R0,#+0
   \   00000038   0x.... 0x....      BL       OS_PrioRemove
    288                          CPU_CRITICAL_EXIT();
   \   0000003C   0x.... 0x....      BL       CPU_IntDisMeasStop
   \   00000040   0x0038             MOVS     R0,R7
   \   00000042   0x.... 0x....      BL       CPU_SR_Restore
    289                          OSSched();
   \   00000046   0x.... 0x....      BL       OSSched
    290                          done = DEF_TRUE;                            /* No more entries in the queue, we are done              */
   \   0000004A   0x2001             MOVS     R0,#+1
   \   0000004C   0x0004             MOVS     R4,R0
   \   0000004E   0xE7DD             B.N      ??OS_IntQTask_1
    291                      } else {
    292                          CPU_CRITICAL_EXIT();
   \                     ??OS_IntQTask_2: (+1)
   \   00000050   0x.... 0x....      BL       CPU_IntDisMeasStop
   \   00000054   0x0038             MOVS     R0,R7
   \   00000056   0x.... 0x....      BL       CPU_SR_Restore
    293                          ts_start = OS_TS_GET();
   \   0000005A   0x.... 0x....      BL       CPU_TS_TmrRd
   \   0000005E   0x0005             MOVS     R5,R0
    294                          OS_IntQRePost();
   \   00000060   0x.... 0x....      BL       OS_IntQRePost
    295                          ts_end   = OS_TS_GET() - ts_start;          /* Measure execution time of tick task                    */
   \   00000064   0x.... 0x....      BL       CPU_TS_TmrRd
   \   00000068   0x1B40             SUBS     R0,R0,R5
   \   0000006A   0x0006             MOVS     R6,R0
    296                          if (OSIntQTaskTimeMax < ts_end) {
   \   0000006C   0x....             LDR.N    R0,??DataTable3_22
   \   0000006E   0x6800             LDR      R0,[R0, #+0]
   \   00000070   0x42B0             CMP      R0,R6
   \   00000072   0xD201             BCS.N    ??OS_IntQTask_3
    297                              OSIntQTaskTimeMax = ts_end;
   \   00000074   0x....             LDR.N    R0,??DataTable3_22
   \   00000076   0x6006             STR      R6,[R0, #+0]
    298                          }
    299                          CPU_CRITICAL_ENTER();
   \                     ??OS_IntQTask_3: (+1)
   \   00000078   0x.... 0x....      BL       CPU_SR_Save
   \   0000007C   0x0007             MOVS     R7,R0
   \   0000007E   0x.... 0x....      BL       CPU_IntDisMeasStart
    300                          OSIntQOutPtr = OSIntQOutPtr->NextPtr;       /* Point to next item in the ISR queue                    */
   \   00000082   0x....             LDR.N    R0,??DataTable3_9
   \   00000084   0x6800             LDR      R0,[R0, #+0]
   \   00000086   0x6840             LDR      R0,[R0, #+4]
   \   00000088   0x....             LDR.N    R1,??DataTable3_9
   \   0000008A   0x6008             STR      R0,[R1, #+0]
    301                          OSIntQNbrEntries--;
   \   0000008C   0x....             LDR.N    R0,??DataTable3
   \   0000008E   0x8800             LDRH     R0,[R0, #+0]
   \   00000090   0x1E40             SUBS     R0,R0,#+1
   \   00000092   0x....             LDR.N    R1,??DataTable3
   \   00000094   0x8008             STRH     R0,[R1, #+0]
    302                          CPU_CRITICAL_EXIT();
   \   00000096   0x.... 0x....      BL       CPU_IntDisMeasStop
   \   0000009A   0x0038             MOVS     R0,R7
   \   0000009C   0x.... 0x....      BL       CPU_SR_Restore
   \   000000A0   0xE7B4             B.N      ??OS_IntQTask_1
    303                      }
    304                  }
    305              }
    306          }
    307          
    308          /*$PAGE*/
    309          /*
    310          ************************************************************************************************************************
    311          *                                                 INITIALIZE THE ISR QUEUE
    312          *
    313          * Description: This function is called by OSInit() to initialize the ISR queue.
    314          *
    315          * Arguments  : p_err    is a pointer to a variable that will contain an error code returned by this function.
    316          *
    317          *                           OS_ERR_INT_Q             If you didn't provide an ISR queue in OS_CFG.C
    318          *                           OS_ERR_INT_Q_SIZE        If you didn't specify a large enough ISR queue.
    319          *                           OS_ERR_STK_INVALID       If you specified a NULL pointer for the task of the ISR task
    320          *                                                    handler
    321          *                           OS_ERR_STK_SIZE_INVALID  If you didn't specify a stack size greater than the minimum
    322          *                                                    specified by OS_CFG_STK_SIZE_MIN
    323          *                           OS_ERR_???               An error code returned by OSTaskCreate().
    324          *
    325          * Returns    : none
    326          *
    327          * Note(s)    : none
    328          ************************************************************************************************************************
    329          */
    330          

   \                                 In section .text, align 2, keep-with-next
    331          void  OS_IntQTaskInit (OS_ERR  *p_err)
    332          {
   \                     OS_IntQTaskInit: (+1)
   \   00000000   0xB5F0             PUSH     {R4-R7,LR}
   \   00000002   0xB089             SUB      SP,SP,#+36
   \   00000004   0x0004             MOVS     R4,R0
    333              OS_INT_Q      *p_int_q;
    334              OS_INT_Q      *p_int_q_next;
    335              OS_OBJ_QTY     i;
    336          
    337          
    338          
    339          #ifdef OS_SAFETY_CRITICAL
    340              if (p_err == (OS_ERR *)0) {
    341                  OS_SAFETY_CRITICAL_EXCEPTION();
    342                  return;
    343              }
    344          #endif
    345          
    346              OSIntQOvfCtr = (OS_QTY)0u;                              /* Clear the ISR queue overflow counter                   */
   \   00000006   0x2000             MOVS     R0,#+0
   \   00000008   0x....             LDR.N    R1,??DataTable3_8
   \   0000000A   0x8008             STRH     R0,[R1, #+0]
    347          
    348              if (OSCfg_IntQBasePtr == (OS_INT_Q *)0) {
   \   0000000C   0x....             LDR.N    R0,??DataTable3_23
   \   0000000E   0x6800             LDR      R0,[R0, #+0]
   \   00000010   0x2800             CMP      R0,#+0
   \   00000012   0xD103             BNE.N    ??OS_IntQTaskInit_0
    349                 *p_err = OS_ERR_INT_Q;
   \   00000014   0xF244 0x6052      MOVW     R0,#+18002
   \   00000018   0x8020             STRH     R0,[R4, #+0]
    350                  return;
   \   0000001A   0xE062             B.N      ??OS_IntQTaskInit_1
    351              }
    352          
    353              if (OSCfg_IntQSize < (OS_OBJ_QTY)2u) {
   \                     ??OS_IntQTaskInit_0: (+1)
   \   0000001C   0x....             LDR.N    R0,??DataTable3_1
   \   0000001E   0x8800             LDRH     R0,[R0, #+0]
   \   00000020   0x2802             CMP      R0,#+2
   \   00000022   0xDA03             BGE.N    ??OS_IntQTaskInit_2
    354                 *p_err = OS_ERR_INT_Q_SIZE;
   \   00000024   0xF244 0x6054      MOVW     R0,#+18004
   \   00000028   0x8020             STRH     R0,[R4, #+0]
    355                  return;
   \   0000002A   0xE05A             B.N      ??OS_IntQTaskInit_1
    356              }
    357          
    358              OSIntQTaskTimeMax = (CPU_TS)0;
   \                     ??OS_IntQTaskInit_2: (+1)
   \   0000002C   0x2000             MOVS     R0,#+0
   \   0000002E   0x....             LDR.N    R1,??DataTable3_22
   \   00000030   0x6008             STR      R0,[R1, #+0]
    359          
    360              p_int_q           = OSCfg_IntQBasePtr;                  /* Initialize the circular ISR queue                      */
   \   00000032   0x....             LDR.N    R0,??DataTable3_23
   \   00000034   0x6800             LDR      R0,[R0, #+0]
   \   00000036   0x0005             MOVS     R5,R0
    361              p_int_q_next      = p_int_q;
   \   00000038   0x002E             MOVS     R6,R5
    362              p_int_q_next++;
   \   0000003A   0x3620             ADDS     R6,R6,#+32
    363              for (i = 0u; i < OSCfg_IntQSize; i++) {
   \   0000003C   0x2000             MOVS     R0,#+0
   \   0000003E   0x0007             MOVS     R7,R0
   \                     ??OS_IntQTaskInit_3: (+1)
   \   00000040   0x....             LDR.N    R0,??DataTable3_1
   \   00000042   0x8800             LDRH     R0,[R0, #+0]
   \   00000044   0xB2BF             UXTH     R7,R7            ;; ZeroExt  R7,R7,#+16,#+16
   \   00000046   0x4287             CMP      R7,R0
   \   00000048   0xD210             BCS.N    ??OS_IntQTaskInit_4
    364                  p_int_q->Type    =  OS_OBJ_TYPE_NONE;
   \   0000004A   0x....             LDR.N    R0,??DataTable3_24  ;; 0x454e4f4e
   \   0000004C   0x6028             STR      R0,[R5, #+0]
    365                  p_int_q->ObjPtr  = (void      *)0;
   \   0000004E   0x2000             MOVS     R0,#+0
   \   00000050   0x60A8             STR      R0,[R5, #+8]
    366                  p_int_q->MsgPtr  = (void      *)0;
   \   00000052   0x2000             MOVS     R0,#+0
   \   00000054   0x60E8             STR      R0,[R5, #+12]
    367                  p_int_q->MsgSize = (OS_MSG_SIZE)0u;
   \   00000056   0x2000             MOVS     R0,#+0
   \   00000058   0x8228             STRH     R0,[R5, #+16]
    368                  p_int_q->Flags   = (OS_FLAGS   )0u;
   \   0000005A   0x2000             MOVS     R0,#+0
   \   0000005C   0x6168             STR      R0,[R5, #+20]
    369                  p_int_q->Opt     = (OS_OPT     )0u;
   \   0000005E   0x2000             MOVS     R0,#+0
   \   00000060   0x8328             STRH     R0,[R5, #+24]
    370                  p_int_q->NextPtr = p_int_q_next;
   \   00000062   0x606E             STR      R6,[R5, #+4]
    371                  p_int_q++;
   \   00000064   0x3520             ADDS     R5,R5,#+32
    372                  p_int_q_next++;
   \   00000066   0x3620             ADDS     R6,R6,#+32
    373              }
   \   00000068   0x1C7F             ADDS     R7,R7,#+1
   \   0000006A   0xE7E9             B.N      ??OS_IntQTaskInit_3
    374              p_int_q--;
   \                     ??OS_IntQTaskInit_4: (+1)
   \   0000006C   0x3D20             SUBS     R5,R5,#+32
    375              p_int_q_next        = OSCfg_IntQBasePtr;
   \   0000006E   0x....             LDR.N    R0,??DataTable3_23
   \   00000070   0x6800             LDR      R0,[R0, #+0]
   \   00000072   0x0006             MOVS     R6,R0
    376              p_int_q->NextPtr    = p_int_q_next;
   \   00000074   0x606E             STR      R6,[R5, #+4]
    377              OSIntQInPtr         = p_int_q_next;
   \   00000076   0x....             LDR.N    R0,??DataTable3_3
   \   00000078   0x6006             STR      R6,[R0, #+0]
    378              OSIntQOutPtr        = p_int_q_next;
   \   0000007A   0x....             LDR.N    R0,??DataTable3_9
   \   0000007C   0x6006             STR      R6,[R0, #+0]
    379              OSIntQNbrEntries    = (OS_OBJ_QTY)0u;
   \   0000007E   0x2000             MOVS     R0,#+0
   \   00000080   0x....             LDR.N    R1,??DataTable3
   \   00000082   0x8008             STRH     R0,[R1, #+0]
    380              OSIntQNbrEntriesMax = (OS_OBJ_QTY)0u;
   \   00000084   0x2000             MOVS     R0,#+0
   \   00000086   0x....             LDR.N    R1,??DataTable3_2
   \   00000088   0x8008             STRH     R0,[R1, #+0]
    381          
    382                                                                      /* -------------- CREATE THE ISR QUEUE TASK ------------- */
    383              if (OSCfg_IntQTaskStkBasePtr == (CPU_STK *)0) {
   \   0000008A   0x....             LDR.N    R0,??DataTable3_25
   \   0000008C   0x6800             LDR      R0,[R0, #+0]
   \   0000008E   0x2800             CMP      R0,#+0
   \   00000090   0xD103             BNE.N    ??OS_IntQTaskInit_5
    384                 *p_err = OS_ERR_INT_Q_STK_INVALID;
   \   00000092   0xF244 0x6055      MOVW     R0,#+18005
   \   00000096   0x8020             STRH     R0,[R4, #+0]
    385                  return;
   \   00000098   0xE023             B.N      ??OS_IntQTaskInit_1
    386              }
    387          
    388              if (OSCfg_IntQTaskStkSize < OSCfg_StkSizeMin) {
   \                     ??OS_IntQTaskInit_5: (+1)
   \   0000009A   0x....             LDR.N    R0,??DataTable3_26
   \   0000009C   0x6800             LDR      R0,[R0, #+0]
   \   0000009E   0x....             LDR.N    R1,??DataTable3_27
   \   000000A0   0x6809             LDR      R1,[R1, #+0]
   \   000000A2   0x4288             CMP      R0,R1
   \   000000A4   0xD203             BCS.N    ??OS_IntQTaskInit_6
    389                 *p_err = OS_ERR_INT_Q_STK_SIZE_INVALID;
   \   000000A6   0xF244 0x6056      MOVW     R0,#+18006
   \   000000AA   0x8020             STRH     R0,[R4, #+0]
    390                  return;
   \   000000AC   0xE019             B.N      ??OS_IntQTaskInit_1
    391              }
    392          
    393              OSTaskCreate((OS_TCB     *)&OSIntQTaskTCB,
    394                           (CPU_CHAR   *)((void *)"uC/OS-III ISR Queue Task"),
    395                           (OS_TASK_PTR )OS_IntQTask,
    396                           (void       *)0,
    397                           (OS_PRIO     )0u,                          /* This task is ALWAYS at priority '0' (i.e. highest)     */
    398                           (CPU_STK    *)OSCfg_IntQTaskStkBasePtr,
    399                           (CPU_STK_SIZE)OSCfg_IntQTaskStkLimit,
    400                           (CPU_STK_SIZE)OSCfg_IntQTaskStkSize,
    401                           (OS_MSG_QTY  )0u,
    402                           (OS_TICK     )0u,
    403                           (void       *)0,
    404                           (OS_OPT      )(OS_OPT_TASK_STK_CHK | OS_OPT_TASK_STK_CLR),
    405                           (OS_ERR     *)p_err);
   \                     ??OS_IntQTaskInit_6: (+1)
   \   000000AE   0x9408             STR      R4,[SP, #+32]
   \   000000B0   0x2003             MOVS     R0,#+3
   \   000000B2   0x9007             STR      R0,[SP, #+28]
   \   000000B4   0x2000             MOVS     R0,#+0
   \   000000B6   0x9006             STR      R0,[SP, #+24]
   \   000000B8   0x2000             MOVS     R0,#+0
   \   000000BA   0x9005             STR      R0,[SP, #+20]
   \   000000BC   0x2000             MOVS     R0,#+0
   \   000000BE   0x9004             STR      R0,[SP, #+16]
   \   000000C0   0x....             LDR.N    R0,??DataTable3_26
   \   000000C2   0x6800             LDR      R0,[R0, #+0]
   \   000000C4   0x9003             STR      R0,[SP, #+12]
   \   000000C6   0x....             LDR.N    R0,??DataTable3_28
   \   000000C8   0x6800             LDR      R0,[R0, #+0]
   \   000000CA   0x9002             STR      R0,[SP, #+8]
   \   000000CC   0x....             LDR.N    R0,??DataTable3_25
   \   000000CE   0x6800             LDR      R0,[R0, #+0]
   \   000000D0   0x9001             STR      R0,[SP, #+4]
   \   000000D2   0x2000             MOVS     R0,#+0
   \   000000D4   0x9000             STR      R0,[SP, #+0]
   \   000000D6   0x2300             MOVS     R3,#+0
   \   000000D8   0x....             LDR.N    R2,??DataTable3_29
   \   000000DA   0x....             LDR.N    R1,??DataTable3_30
   \   000000DC   0x....             LDR.N    R0,??DataTable3_5
   \   000000DE   0x.... 0x....      BL       OSTaskCreate
    406          }
   \                     ??OS_IntQTaskInit_1: (+1)
   \   000000E2   0xB009             ADD      SP,SP,#+36
   \   000000E4   0xBDF0             POP      {R4-R7,PC}       ;; return

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3:
   \   00000000   0x........         DC32     OSIntQNbrEntries

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_1:
   \   00000000   0x........         DC32     OSCfg_IntQSize

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_2:
   \   00000000   0x........         DC32     OSIntQNbrEntriesMax

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_3:
   \   00000000   0x........         DC32     OSIntQInPtr

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_4:
   \   00000000   0x........         DC32     OSRdyList

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_5:
   \   00000000   0x........         DC32     OSIntQTaskTCB

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_6:
   \   00000000   0x........         DC32     OSPrioCur

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_7:
   \   00000000   0x........         DC32     OSPrioSaved

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_8:
   \   00000000   0x........         DC32     OSIntQOvfCtr

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_9:
   \   00000000   0x........         DC32     OSIntQOutPtr

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_10:
   \   00000000   0x414D4553         DC32     0x414d4553

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_11:
   \   00000000   0x47414C46         DC32     0x47414c46

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_12:
   \   00000000   0x47495354         DC32     0x47495354

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_13:
   \   00000000   0x47534D54         DC32     0x47534d54

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_14:
   \   00000000   0x4B434954         DC32     0x4b434954

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_15:
   \   00000000   0x53455254         DC32     0x53455254

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_16:
   \   00000000   0x53555354         DC32     0x53555354

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_17:
   \   00000000   0x55455551         DC32     0x55455551

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_18:
   \   00000000   0x........         DC32     OSTickTaskTCB

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_19:
   \   00000000   0x........         DC32     OSTmrUpdateCtr

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_20:
   \   00000000   0x........         DC32     OSTmrUpdateCnt

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_21:
   \   00000000   0x........         DC32     OSTmrTaskTCB

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_22:
   \   00000000   0x........         DC32     OSIntQTaskTimeMax

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_23:
   \   00000000   0x........         DC32     OSCfg_IntQBasePtr

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_24:
   \   00000000   0x454E4F4E         DC32     0x454e4f4e

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_25:
   \   00000000   0x........         DC32     OSCfg_IntQTaskStkBasePtr

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_26:
   \   00000000   0x........         DC32     OSCfg_IntQTaskStkSize

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_27:
   \   00000000   0x........         DC32     OSCfg_StkSizeMin

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_28:
   \   00000000   0x........         DC32     OSCfg_IntQTaskStkLimit

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_29:
   \   00000000   0x........         DC32     OS_IntQTask

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_30:
   \   00000000   0x........         DC32     ?_0

   \                                 In section .rodata, align 4
   \                     ?_0:
   \   00000000   0x75 0x43          DC8 "uC/OS-III ISR Queue Task"
   \              0x2F 0x4F    
   \              0x53 0x2D    
   \              0x49 0x49    
   \              0x49 0x20    
   \              0x49 0x53    
   \              0x52 0x20    
   \              0x51 0x75    
   \              0x65 0x75    
   \              0x65 0x20    
   \              0x54 0x61    
   \              0x73 0x6B    
   \              0x00         
   \   00000019   0x00 0x00          DC8 0, 0, 0
   \              0x00         
    407          
    408          #endif

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
      40   OS_IntQPost
        40   -> CPU_IntDisMeasStart
        40   -> CPU_IntDisMeasStop
        40   -> CPU_SR_Restore
        40   -> CPU_SR_Save
        40   -> OS_PrioInsert
      24   OS_IntQRePost
        24   -> CPU_TS_TmrRd
        24   -> OS_FlagPost
        24   -> OS_QPost
        24   -> OS_SchedRoundRobin
        24   -> OS_SemPost
        24   -> OS_TaskQPost
        24   -> OS_TaskResume
        24   -> OS_TaskSemPost
        24   -> OS_TaskSuspend
      24   OS_IntQTask
        24   -> CPU_IntDisMeasStart
        24   -> CPU_IntDisMeasStop
        24   -> CPU_SR_Restore
        24   -> CPU_SR_Save
        24   -> CPU_TS_TmrRd
        24   -> OSSched
        24   -> OS_IntQRePost
        24   -> OS_PrioRemove
      56   OS_IntQTaskInit
        56   -> OSTaskCreate


   Section sizes:

   Bytes  Function/Label
   -----  --------------
       4  ??DataTable3
       4  ??DataTable3_1
       4  ??DataTable3_10
       4  ??DataTable3_11
       4  ??DataTable3_12
       4  ??DataTable3_13
       4  ??DataTable3_14
       4  ??DataTable3_15
       4  ??DataTable3_16
       4  ??DataTable3_17
       4  ??DataTable3_18
       4  ??DataTable3_19
       4  ??DataTable3_2
       4  ??DataTable3_20
       4  ??DataTable3_21
       4  ??DataTable3_22
       4  ??DataTable3_23
       4  ??DataTable3_24
       4  ??DataTable3_25
       4  ??DataTable3_26
       4  ??DataTable3_27
       4  ??DataTable3_28
       4  ??DataTable3_29
       4  ??DataTable3_3
       4  ??DataTable3_30
       4  ??DataTable3_4
       4  ??DataTable3_5
       4  ??DataTable3_6
       4  ??DataTable3_7
       4  ??DataTable3_8
       4  ??DataTable3_9
      28  ?_0
     270  OS_IntQPost
     338  OS_IntQRePost
     162  OS_IntQTask
     230  OS_IntQTaskInit

 
    28 bytes in section .rodata
 1 124 bytes in section .text
 
 1 124 bytes of CODE  memory
    28 bytes of CONST memory

Errors: none
Warnings: none
